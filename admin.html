<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <title>Admin</title>  <!--name of website-to be changed-->
    <link rel="stylesheet" href="admin.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script>
        /*$(document).ready(function(){
            var csv_path = "List-of-boards-test.csv";
            var renderCSVdropdown = function(csv){
                var dropdown= $('select #board');
                    for (var count=0; count<csv.length; count++){
                    var record = csv[count].split(",");
                    for( var cell_count=0; cell_count< record.length; cell_count++){
                    var entry= $('<option>').attr('value', record[cell_count]);
                    console.log(record);
                    dropdown.append(entry);
                    }
                }
            };
            $.get(csv_path, function(data){
                var csv= data.split(/\r?\n|\r/);
                renderCSVdropdown(csv);

            })
        })-------first try*/

        /*$(document).ready(function(){
            $('#board').click(function(){
                $.ajax({
                    url:"List-of-boards-test.csv",
                    dataType:"text",
                    success:function(data){
                        var row_data= data.split(/\r?\n|\r/);
                        for(var count = 0; count<row_data.length; count++){
                            var cell_data= row_data[count].split(",");
                            for(var cell_count=0; cell_count<cell_data.length; cell_count++){
                            var entry =$('<option>',{value:cell_data[cell_count], text:cell_data[cell_count]});
                            $('select #board').append(entry);
                            };
                        };

                    }
                });
            });
        });  --------second try*/

       /* $(document).ready(function(){
        var csv_path= "List-of-boards-test.csv";
        csv_path.handleFile();

    var renderCSVDropdown = function(csv) {
        var dropdown = $('#board');
        var elements = csv.split(",");
        for (var i = 0; i < elements.length; i++) {
            var record = elements[i];
        var entry = $('<option>', {value: record, text: record})
        dropdown.append(entry);
  }
};

    function handleFile() {
        var file = $(this).prop('files')[0];
        var fileReader = new FileReader();
        fileReader.onload = function (evt) {
        renderCSVDropdown(evt.target.result);
    };
    fileReader.readAsText(file, "UTF-8");
};
        }) ---third try-->*/

    $(document).ready(function(){
 $('#board').click(function(){
  $.ajax({
   url:"List-of-boards-test.csv",
   dataType:"text",
   success:function(data)
   {
    var row_data = data.split(/\r?\n|\r/);
    var dropdown_data = '<form>';
    for(var count = 0; count<row_data.length; count++)
    {
     var cell_data = row_data[count].split(",");
     //table_data += '<tr>';
     for(var cell_count=0; cell_count<cell_data.length; cell_count++)
     {
      /*if(count === 0)
      {
       table_data += '<th>'+cell_data[cell_count]+'</th>';
      }
      else
      {*/
       dropdown_data += '<select>'+cell_data[cell_count]+'</select';
     // }
     }
     //table_data += '</tr>';
    }
    dropdown_data += '</form>';
    //$('#employee_table').html(table_data);
   }
  });
 });
 
});    
    </script>
  </head>
  <body>
      <h1 class="page-header" style="text-align: center;">ADMIN</h1>
            <div class="container-fluid">
            <ul class="nav" >
                <li class="active"><a href="#" >Add Marksheets to blockchain</a></li>
                <li class= "active"><a href="#">Modify Marksheets</a></li>
                <li class="active"><a href="#"> View Marksheets</a></li>
            </ul>
        </div>
        <form action="#school"></form>
        <div class="form-group">
            <label for="board">Name of Board</label>
            <select class="form-control" id="board" name="BOARD"></select>
        </div>
        <input type="submit" value="Enter">
    </form>
  </body>
</html>